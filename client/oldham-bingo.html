<head>
  <title>Oldham Bingo</title>
</head>
<body>
  {{> homepage }}
</body>
<template name="homepage">
    <div id="left-column">
      <h1>Let's Play Some Bingo!</h1>
      {{#if not_signed_in}}
        {{> signin}}
      {{else}}
        {{> board}}
      {{/if}}
    </div>
    {{#if not_signed_in}}
    {{else}}
      <div id="right-column">
        {{#if winner}}
          {{winner.username}} has won!
          <div id="new-game-button">Play Again?</div>
        {{/if}}
        {{> chat}}
        {{> scoreboard}}
      </div>
    {{/if}}
</template>
<template name="scoreboard">
  <div class="right-container" id="player_container">
    <h2>Current Players:</h2>
    <ul>
      {{#each players}}
      <li>{{this.username}}<span class="num_squares">{{this.num_squares}} ({{this.num_bingo}} needed)</span></li>
      {{/each}}
    </ul>
  </div>
</template>
<template name="chat">
  <div class="right-container" id="chat_container">
    <h2>Chat:</h2>
    <div id="chat_form">
      <form action='#'>
        <input type='text' id='chat_message' />
        <input type='submit' value='>' id='chat_message_submit'/>
      </form>
    </div>
    <div id="chat_list">
      <ul>
        {{#each messages}}
        <li><span title="{{this.time}}"><b>{{this.user}}</b>: {{this.msg}}</span></li>
        {{/each}}
      </ul>
    </div>
  </div>
</template>
<template name="winner">
</template>
<template name="signin">
  <div id="signin-container">
    <form id="signin_form">
      Your Name:
      <input id="signin_username" type="text" />
      Game:
      <select id="game_select">
        <option value="oldham">Oldham</option>
        <option value="standard">Standard</option>
        <option value="vincenzo">Vincenzo</option>
        <option value="tekin">Tekin</option>
      </select>
      <input id="signin_button" type="submit" value="Achieve Compilers Nirvana" />
    </form>
  </div>
</template>
<template name="board">
      <div id="bingo-board-container">
  <table id="bingo-board">
    <tbody>
      {{#each rows}}
      <tr>
        {{#each cols}}
        <td id="{{id}}" {{#if acquired}} class="acquired" {{/if}}>{{text}}</td>
        {{/each}}
      </tr>
      {{/each}}
    </tbody>
  </table>
</div>
</template>
